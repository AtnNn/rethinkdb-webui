<script id="dashboard_view-template" type="text/x-handlebars-template">
        <table class="section" id="cluster_status_container" class="cluster_status">
            <tr>
                <td class="panel availability"></td>
                <td class="panel redundancy"></td>
                <td class="panel reachability"></td>
                <td class="panel consistency"></td>
            </tr>
        </table>

        <div class="section" id="cluster_performance_container"></div>
        <div class="section" id="log-view">
            <button class="btn btn-primary view-logs">View All</button>
            <h2 class="title">Recent log entries</h2>
            <div class="recent-log-entries-container"></div>
        </div>
</script>

<script id="dashboard_availability-template" type="text/x-handlebars-template">
    {{#if status_is_ok}}
        <div class="status no-problems-detected">
            <h3>Availability</h3>
            <p class="message"><span class="good">0</span> issues detected</p>
            <p class="details"><span class="good">{{num_directors}}/{{num_directors}}</span> directors are online</p>
        </div>
    {{else}}
        <div class="status problems-detected">
            <h3>Availability</h3>
            <p class="message"><span class="bad">{{num_non_available_tables}}/{{num_tables}} </span> <a href="#" class="show_details">tables</a> are affected</p>
            <p class="details"><span class="bad">{{num_non_available_directors}}/{{num_directors}}</span> <a href="#" class="show_details">directors</a> not available</p>
        </div>
    {{/if}}
    <div class="popup_container">
        <a class="close" href="#">&times;</a>
        <div class="arrow_left"></div>
        <div class="arrow_left_overlay"></div>
        <div class="inner_content">
            <h4>List of directors not available</h4>
            <ul class="ul_first_level">
                {{#each tables_with_directors_not_ready}}
                <li class="li_first_level">Table <a href="#tables/{{uuid}}">{{db}}.{{name}}</a>:
                <ul class="ul_second_level">
                    {{#each shards}}
                    <li class="li_second_level">
                        Shard {{position}}/{{num_shards}}<br/>
                        Expected director: <a href="#servers/{{machine_id}}">{{server}}</a><br/>
                        Status/Goal: {{state}} / ready
                    </li>
                    {{/each}}
                </ul>
                </li>
                {{/each}}
            </ul>
        </div>
    </div>
</script>

<script id="cluster_status-container-template" type="text/x-handlebars-template">
    <div class="status"></div>
    <div class="popup_container"></div>
</script>


<script id="dashboard_redundancy-template" type="text/x-handlebars-template">
    {{#if status_is_ok}}
        <div class="status no-problems-detected">
            <h3>Redundancy</h3>
            <p class="message"><span class="good">0</span> issues detected</p>
            <p class="details"><span class="good">{{num_replicas}}/{{num_replicas}}</span> replicas are online</p>
        </div>
    {{else}}
        <div class="status problems-detected">
            <h3>Redundancy</h3>
            <p class="message"><span class="bad">{{num_non_available_replicas}}/{{num_tables}} </span> <a href="#" class="show_details">tables</a> are affected</p>
            <p class="details"><span class="bad">{{num_non_available_replicas}}/{{num_replicas}}</span> <a href="#" class="show_details">replicas</a> are not ready</p>
        </div>
    {{/if}}
    <div class="popup_container">
        <a class="close" href="#">&times;</a>
        <div class="arrow_left"></div>
        <div class="arrow_left_overlay"></div>
        <div class="inner_content">
            <h4>List of replicas not available</h4>
            <ul class="ul_first_level">
                {{#each tables_with_replicas_not_ready}}
                <li class="li_first_level">Table <a href="#tables/{{uuid}}">{{db}}.{{name}}</a>:
                <ul class="ul_second_level">
                    {{#each shards}}
                    <li class="li_second_level">
                        Shard {{position}}/{{num_shards}}<br/>
                        Expected replica: <a href="#servers/{{machine_id}}">{{server}}</a><br/>
                        Status/Goal: {{state}} / ready
                    </li>
                    {{/each}}
                </ul>
                </li>
                {{/each}}
            </ul>
        </div>
    </div>
</script>


<script id="dashboard_reachability-template" type="text/x-handlebars-template">
    {{#if status_is_ok}}
        <div class="status no-problems-detected">
            <h3>Reachability</h3>
            <p class="message"><span class="good">0</span> issues detected</p>
            <p class="details"><span class="good">{{num_servers}}/{{num_servers}}</span> servers reachable</p>
        </div>
    {{else}}
        <div class="status problems-detected">
            <h3>Reachability</h3>
            <p class="message"><span class="bad">{{num_servers_non_available}}</span> <a href="#" class="show_details">{{pluralize_noun "issue" num_servers_non_available}}</a> detected</p>
            <p class="details"><span class="bad">{{num_servers_non_available}}/{{num_servers}}</span> <a href="#" class="show_details">servers</a> are down</p>

        </div>
    {{/if}}
    <div class="popup_container">
        <a class="close" href="#">&times;</a>
        <div class="arrow_left"></div>
        <div class="arrow_left_overlay"></div>
        <div class="inner_content">
            <h4>List of servers not available</h4>
            <ul class="ul_first_level">
                {{#each servers_non_available}}
                <li class="li_first_level">
                    Server <a href="#servers/{{uuid}}">{{name}}</a>
                    <ul class="ul_second_level">
                        <li class="li_second_level">
                            Last seen: {{time_disconnected}}
                        </li>
                    </ul>
                </li>
                {{/each}}
            </ul>
        </div>
    </div>
</script>


<script id="cluster_status-consistency_status-template" type="text/x-handlebars-template">
    <h3>Consistency</h3>
    {{#if has_conflicts}}
    <p class="message"><span class="bad">{{num_conflicts}}</span> <a href="#" class="show_details">{{pluralize_noun "issue" num_conflicts}}</a> detected</p>
    {{#if has_multiple_types}}
    <p class="details"><span class="bad">{{num_types_conflicts}}</span> <a href="#" class="show_details">{{pluralize_noun "conflict type" num_types_conflicts}}</a> </p>
    {{else}}
    <p class="details"><span class="bad">{{num_conflicts}}</span> {{pluralize_noun type num_conflicts}} {{pluralize_verb_to_have num_conflicts}} conflicts</p>
    {{/if}}
    {{else}}
    <p class="message"><span class="good">0</span> issues detected</p>
    <p class="details"><span class="good">{{num_namespaces}}/{{num_namespaces}}</span> tables are consistent</p>
    {{/if}}
</script>



<script id="cluster_status-consistency-popup-template" type="text/x-handlebars-template">
    <a class="close" href="#">&times;</a>
    <div class="arrow_right"></div>
    <div class="arrow_right_overlay"></div>
    <div class="inner_content">
        <h4>List of conflicts</h4>
        {{#if has_conflicts}}
        <ul class="ul_first_level">
            {{#each conflicts}}
            <li class="li_first_level">{{capitalize type}} <a href="#{{type}}s/{{id}}">{{name}}</a> has a conflict for the field {{field}}</li>
            {{/each}}
        </ul>
        {{else}}
        No conflicts detected.
        {{/if}}
        <a href="#resolve_issues" class="resolve_issues_link">Resolve issues</a>
    </div>
</script>
