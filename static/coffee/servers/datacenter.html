<script id="datacenter_view-container-template" type="text/x-handlebars-template">
    <div id="datacenter-view">
        <div class="operations">
            <div class="dropdown">
                <button class="btn dropdown-toggle" data-toggle="dropdown">Operations</button>
                <ul class="dropdown-menu">
                    <li><a href="#">Rename datacenter</a></li>
                    <li><a href-"#">Delete datacenter</a></li> 
                </ul>
            </div>
        </div>
        <button class="btn show-data">Show data in this datacenter</button>
        <div class="main_title"></div>
        <div id="user-alert-space"></div>
        <div class="section statistics">
            <h2 class="title">Statistics</h3>
            <div class="content row-fluid">
                <div class="span4 profile"></div>
                <div class="span8 performance-graph"></div>
            </div>
        </div>
        <div class="recent-log-entries"></div>
    </div>
</script>

<script id="datacenter_view_title-template" type="text/x-handlebars-template">
    <h1 class="title">Datacenter overview for {{name}}</h1>
</script>

<script id="element_view-not_found-template" type="text/x-handlebars-template">
    <h1 class="error-title">Error</h1>
    <p>{{capitalize type}} {{id}} could not be found.</p>
    <p>You can try to <a href="/#{{type_url}}/{{id}}">refresh</a> or see a list of all <a href="/#{{type_all_url}}">{{pluralize_noun type 2}}</a>.</p>
</script>

<script id="datacenter_view_profile-template" type="text/x-handlebars-template">
    <div class="summary">
        <div class="stat-row first">
            <p class="availability"><span class="big">{{humanize_datacenter_reachability status}} </span> and reachable</p>
        </div>
        <div class="stat-row">
            <p class="servers"><span class="big">{{status.reachable}}/{{status.total}} </span> servers reachable</p>
        </div>
        <!-- Removing for now TODO
        {{#unless stats_up_to_date}}
        <p>The stats displayed might not be up to date<br />
        (One server might be overload with queries).</p>
        {{/unless}}
        -->
    </div>
    <h3 class="title">Servers</h3>
    <div class="dc-machine-list">
        <ul>
        {{display_truncated_machines list_machines}}
        </ul>
    </div>
</script>

<script id="datacenter_view_data-template" type="text/x-handlebars-template">
    <h3 class="title">Data in this datacenter</h3>
    {{#unless data.namespaces}}
    <p>No data found in this datacenter.</p>
    {{/unless}}
    {{#each data.namespaces}}
    <div class="namespace">
      <h4>Shards for table <a href="/#tables/{{uuid}}">{{name}}</a>:</h4>
      <ul class="shard_ul">
        {{#each shards}}
        <li class="shard_li">
            <h4>{{name}}</h4>
            <p>{{#if keys}}About {{keys}} keys{{else}}Loading number of keys...{{/if}}, {{nprimaries}} {{pluralize_noun "primary" nprimaries}}, {{nsecondaries}} {{pluralize_noun "secondary" nsecondaries}}</p>
        </li>
        {{/each}}
      </ul>
    </div>
    {{/each}}
</script>

<script id="datacenter_view-recent_log_entry-template" type="text/x-handlebars-template">
    <div class="entry-metadata">
        <p class="from-machine">Reported from <a href="#servers/{{machine_uuid}}">{{machine_name}}</a></p>
        <p class="datetime"><abbr class="timeago" title="{{timeago_timestamp}}">{{timeago_timestamp}}</abbr></p>
    </div>
    <p class="level">{{level}}</p>
    <p class="message">
        {{formatted_message}}
        {{#if json}}
                <a href="#" class="json" rel="popover" data-content="<pre>{{json}}</pre>" data-title="JSON applied to server">examine JSON</a>
        {{/if}}
    </p>
</script>

<script id="reason-cannot_delete-goals-template" type="text/x-handlebars-template">
    This datacenter is a primary one for the following tables {{links_to_namespaces_inline namespaces_where_primary "replication"}} and therefore cannot be deleted.
</script>

<script id="remove_datacenter-modal-template" type="text/x-handlebars-template">
  <div class="alert alert-error">Removing the datacenter will remove all the responsabilities of the servers in it.</div>
  <div class="alert alert-error error_answer"></div>
  <p>Are you sure you want to remove this datacenter <a href="#datacenters/{{id}}">{{name}}</a>?</p>
</script>

<script id="removed_namespace-alert-template" type="text/x-handlebars-template">
  <div class="alert" data-alert="alert">
    <a class="close" href="#">&times;</a>
    <p>You removed the database {{deleted_datacente}}</p>
  </div>
</script>
