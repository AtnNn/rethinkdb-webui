<script id="namespace_view-replica-template" type="text/x-handlebars-template">
    <h2 class="title">Replication across the cluster</h2>
    <div class="alert alert-error no_datacenter_found"><p>The primary datacenter of this table was not found. Please specify another primary datacenter (or Universe).</p></div>
    <div class="alert alert-error ack_greater_than_replicas"></div>
    <div class="universe_container"></div>
    <h2 class="title">Replication on each datacenter</h2>
    <div class="row-fluid">
        <div class="span3 tabbable tabs-left datacenters_list_container"></div>
        <div class="span9 tab-content datacenter_content"></div>
    </div>
</script>

<script id="namespace_view-acks_greater_than_replicas-template" type="text/x-handlebars-template">
    <p>The acks for the {{pluralize_noun "table" num_datacenters_with_issues}} {{links_to_datacenters_inline_for_replica datacenters_with_issues}} are greater than the number of replicas.</p>
</script>

<script id="namespace_view-replica-datacenters_list-template" type="text/x-handlebars-template">
    <div class="datacenter_list_container">
        {{#each datacenters}}
        <div class="datacenter_tab {{#if active}} active {{/if}}{{#if is_universe}} universe{{/if}}">
            <a href="#tables/{{../id}}/{{id}}" data-datacenter_id="{{id}}" class="nav_datacenter">{{name}}</a>
        </div>
        {{/each}}
    </div>
</script>

<script id="namespace_view-universe_replica-template" type="text/x-handlebars-template">
    <div class="universe-info universe-role">
        <p class="caption">Role</p>
        {{#unless primary}}
            <button class="btn make-primary">Make Primary</button>
        {{/unless}}
        <p class="value">
            {{#if primary}}
                Primary
            {{else}}
                Secondary
            {{/if}}
        </p>
        <div class="make_primary-alert alert">
            <a class="close" href="#">&times;</a>
            <p class="make_primary-alert-content"></p>
        </div>
    </div>
    <div class="universe-info replica_container">
        {{#if editable}}
            <button class="cancel btn">&times;</button>
            <button class="save update-replicas btn">Update</button>
        {{else}}
            <button class="edit btn">Change</button>
        {{/if}}
        <div class="replica_value">
            <p class="caption">Replicas</p>
            {{#if editable}}
                <input type="text" id="replicas_value" value="{{replicas}}" class="inline_edit_input">
            {{else}}
                <p class="value">{{replicas}}</p>
            {{/if}}
        </div>
        <div class="ack_value">
            <p class="caption">Acks</p>
            {{#if editable}}
                <input type="text" id="acks_value" value="{{acks}}" class="inline_edit_input">
            {{else}}
                <p class="value">{{acks}}</p>
            {{/if}}
        </div>
        <div class="replicas_acks-alert alert"></div>
        <div class="status-alert alert"></div>
    </div>
    <div class="universe-info progress_bar_full_container">
        <div class="progress_bar_container"></div>
    </div>
</script>

<script id="namespace_view-replica-no_datacenter-template" type="text/x-handlebars-template">
    <div class="dc-info">
        <p>No datacenter selected.</p>
    </div>
</script>

<script id="namespace_view-datacenter_replica-template" type="text/x-handlebars-template">
    <div class="dc-info">
        <p class="caption">Role</p>
        {{#unless primary}}
            <button class="btn make-primary">Make Primary</button>
        {{/unless}}
        <p class="value">
            {{#if primary}}
                Primary
            {{else}}
                Secondary
            {{/if}}
        </p>
        <div class="make_primary-alert alert">
            <a class="close" href="#">&times;</a>
            <p class="make_primary-alert-content"></p>
        </div>
    </div>
    <div class="dc-info replica_container">
        {{#if editable}}
            <button class="cancel btn">&times;</button>
            <button class="save update-replicas btn">Update</button>
        {{else}}
            <button class="edit btn">Change</button>
        {{/if}}
        <div class="replica_value">
            <p class="caption">Replicas</p>
            {{#if editable}}
                <input type="text" id="replicas_value" value="{{replicas}}" class="inline_edit_input">
            {{else}}
                <p class="value">{{replicas}}</p>
            {{/if}}
        </div>
        <div class="ack_value">
            <p class="caption">Acks</p>
            {{#if editable}}
                <input type="text" id="acks_value" value="{{acks}}" class="inline_edit_input">
            {{else}}
                <p class="value">{{acks}}</p>
            {{/if}}
        </div>
        <div class="replicas_acks-alert alert"></div>
    </div>
    <div class="dc-info progress_bar_full_container">
        <div class="progress_bar_container"></div>
    </div>
    <div class="dc-info">
        <p class="caption">Status</p>
        <p class="value status_details"></p>
        <div class="status-alert alert"></div>
    </div>
</script>
<script id="namespace_view-edit_datacenter_replica-alert_messages-template" type="text/x-handlebars-template">
    {{#if need_replica_for_primary}}
    You need to set at least one replica before making this datacenter primary.
    {{/if}}
    {{#if too_many_replicas}}
    The number of replicas ({{num_replicas}}) cannot exceed the total number of machines ({{max_machines}}).
    {{/if}}
    {{#if need_at_least_one_replica}}
    The number of replicas must be at least one because {{name}} is the primary datacenter for this table.
    {{/if}}
    {{#if too_many_acks}}
    The number of acks ({{num_acks}}) cannot exceed the total number of replicas ({{num_replicas}}).
    {{/if}}
    {{#if acks_too_small}}
    The value of acks must be greater than 0 if you have one replica or more.
    {{/if}}
</script>
<script id="namespace_view-edit_datacenter_replica-replication_status-template" type="text/x-handlebars-template">
    {{num_replicas_ready}}/{{num_replicas}} replicas up to date.
</script>
<script id="namespace_view-edit_datacenter_replica-replication_done-template" type="text/x-handlebars-template">
    <div class="close" href="#">&times;</div>
    <p>Replication complete</p>
</script>

<script id="namespace_view-edit_datacenter_replica-error-template" type="text/x-handlebars-template">
    <div class="close" href="#">&times;</div>
    <p>
    {{#each msg_errors}}
     {{print_safe this}}<br/>
    {{/each}}
    </p>
</script>

<script id="namespace_view-edit_datacenter_replica-success-template" type="text/x-handlebars-template">
    <div class="close" href="#">&times;</div>
    <p>Changing replicas and acks...</p>
</script>

<script id="namespace_view-edit_datacenter_replica-ajax_error-template" type="text/x-handlebars-template">
    <div class="close" href="#">&times;</div>
    <p>Sorry, an AJAX error occurred. Please refresh and try again.</p>
</script>

<script id="need_replicas-template" type="text/x-handlebars-template">
    <div class="close" href="#">&times;</div>
    <p>This datacenter needs at least one replica to become master.</p>
</script>

<script id="changed_primary_dc-replica-template" type="text/x-handlebars-template">
    You successfully set this datacenter as primary.
</script>

<script id="modified_replica-alert-template" type="text/x-handlebars-template">
  <div class="alert" data-alert="alert">
    <a class="close" href="#">&times;</a>
    <p>
      You successfully changed
      {{#if modified_replicas}} the number of replicas from {{old_replicas}} to {{new_replicas}}
      {{#if modified_acks}} and{{/if}}
      {{/if}}
      {{#if modified_acks}} the number of acks from {{old_acks}} to {{new_acks}}{{/if}}
      for datacenter <a href="/#datacenters/{{datacenter_uuid}}">{{datacenter_name}}</a>.
    </p>
  </div>
</script>

