<script id="shard_name-partial" type="text/x-handlebars-template">
    <h4 class="shard-boundaries-name">{{name}}</h4>
    <span class="shard_num_keys">
    {{#if shard_stats.rows_approx}}
        about {{shard_stats.rows_approx}} {{pluralize_noun "key" shard_stats.rows_approx}}
    {{else}}
        Loading data...
    {{/if}}
    </span>
</script>

<script id="namespace_view-sharding-template" type="text/x-handlebars-template">
    <div class="alert_for_sharding alert alert-error"></div>
    <div class="sharding">
        <h3 class="title">Sharding settings</h3>
        <table class="shards table shards-table">
            <tbody>
            </tbody>
        </table>
    </div>
    <div class="change-shards"></div>
    <div class="blackout"></div>
</script>


<script id="namespace_view-sharding_alert-template" type="text/x-handlebars-template">
    Please solve the current issues before editing the shards not to lose data.
</script>

<script id="namespace_view_invalid_splitpoint_alert-template" type="text/x-handlebars-template">
    Error, invalid splitpoint. Shards must not overlap.
</script>

<script id="namespace_view_invalid_splitpoint_alert-template" type="text/x-handlebars-template">
    Error, invalid merge.
</script>

<script id="namespace_view_invalid_shard_alert-template" type="text/x-handlebars-template">
    Error, the shards that you tried to split doesn't exist.
</script>

<script id="namespace_view-shard-template" type="text/x-handlebars-template">
    <tr class="summary-tr">
        <td class="shard summary"></td>
    </tr>
    <tr>   
        <td class="status">
            <div class="datacenter-list"></div>
        </td>
    </tr>
</script>

<script id="namespace_view-shard-summary-template" type="text/x-handlebars-template">
    {{> shard_name}}
</script>

<script id="namespace_view-shard_datacenter_list-template" type="text/x-handlebars-template">
    <div class="datacenters"></div>
</script>

<script id="namespace_view-shard_datacenter-template" type="text/x-handlebars-template">
    <div class="row header">
        <div class="expanded arrow"></div>
        <div class="datacenter summary"></div>
    </div>
    <div class="machine-list"></div>
    <div class="divider"></div>
</script>

<script id="namespace_view-shard_datacenter-summary-template" type="text/x-handlebars-template">
    <p class="status">{{humanize_datacenter_reachability status}}</p>
    <h4 class="datacenter name"><span class="element-type label label-inverse">Datacenter</span><a href="#datacenters/{{id}}">{{name}}</a></h4>
</script>

<script id="namespace_view-shard_machine_list-template" type="text/x-handlebars-template">
    <ul class="machines"></ul>
</script>

<script id="namespace_view-shard_machine-template" type="text/x-handlebars-template">
    {{#if is_master}}
        <span class="master label label-info">Master machine</span>
    {{else}}
        <span class="secondary label label-info">Secondary machine</span>
    {{/if}}
    <a class="machine name" href="#machines/{{id}}">{{name}}</a>
    {{#unless is_master}}
        {{#unless no_available_machines}} 
            <a class="change-machine" href="#" rel="popover" data-title="Change machine for this shard"><i class="icon-edit"></i></a>
        {{/unless}}
        {{#unless cannot_be_master}}
            <a class="make-master" data-loading-text="changing master..." href="#">make master</a>
        {{/unless}}
    {{/unless}}
    <p class="status">
        {{humanize_machine_reachability status}}{{#if status.reachable}}{{! > backfill_progress_summary}}{{/if}}
        {{#if status.reachable}}
            {{> backfill_progress_summary}}
        {{/if}}
    </p>
    {{> backfill_progress_details}}
</script>
<script id="namespace_view-shard_machine-assign_machine_popover-template" type="text/x-handlebars-template">
    <div class="namespace-shard-assign-machine">
        <select class="chosen-dropdown" data-placeholder="Choose a different machine">
            <option></option>
            {{#each available_machines}}
                <option value="{{id}}">{{name}}</option>
            {{/each}}
        </select>
        <a class="btn btn-primary change-machine" data-loading-text="Loading..." href="#">Change machine</a>
    </div>
</script>
